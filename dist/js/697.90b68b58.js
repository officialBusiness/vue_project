"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[697],{3697:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"myContextMenuExample"}},[t("div",{staticClass:"demo1"},[t("context-menu",{attrs:{menu:e.menu2}})],1),t("div",{staticClass:"demo2"},[t("context-menu",{attrs:{menu:e.menu3}})],1),t("context-menu",{attrs:{menu:e.menu1}})],1)},o=[],s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"component-menu",attrs:{tabindex:"0"},on:{mousedown:function(e){e.stopPropagation()}}},e._l(e.menu,(function(n){return t("div",{staticClass:"item",on:{mousedown:function(t){return t.stopPropagation(),e.itemDwom(n.event)}}},[e._v(" "+e._s(n.name)+" ")])})),0)},l=[],a=n(711);function u({delay:e=0,duration:t=1e3,onStart:n=(()=>{}),onUpdate:i=(()=>{}),onComplete:o=(()=>{})}){let s=(0,a.Z)()+e,l=s+t,u=!1,r=0,h=requestAnimationFrame(d);function d(){let e=(0,a.Z)();r=e<s?-1:e===s?0:e>=l?1:(e-s)/t,1===r?(i(r),o(r),cancelAnimationFrame(h)):(r>=0&&(u||(n(r),u=!0),i(r)),h=requestAnimationFrame(d))}let m={cancelAnimation(){cancelAnimationFrame(h)},addDuration(e){l+=e}};return m}var r={data(){return{parentNode:null,event:null,width:0,height:0,visible:!1,isAnimation:!1,blurStillShow:!1}},props:{menu:{type:Array,default(){return[]}}},methods:{parentNodeDown(e){e.stopPropagation(),2===e.button&&(this.visible&&(this.blurStillShow=!0),this.setPosition(e),this.setVisible(!0))},itemDwom(e){this.isAnimation||(e(this.event),this.setVisible(!1))},initRect(){this.$el.style.display=null,this.width=this.$el.clientWidth,this.height=this.$el.clientHeight,this.$el.style.display="none"},setPosition(e){if(!e)throw new Error("MouseEvent 为空, 无法设置菜单位置");{this.event=e;let t=e.pageX,n=e.pageY,i=this.width,o=this.height,s=window.innerWidth,l=window.innerHeight;t+i+1>s&&(t-=i),n+o+1>l&&(n-=o),this.$el.style.left=t+"px",this.$el.style.top=n+"px"}},setVisible(e){this.visible!==e&&(this.visible=e,u(e?{duration:300,onStart:()=>{this.$el.style.display=null,this.isAnimation=!0},onUpdate:e=>{this.$el.style.opacity=e},onComplete:e=>{this.$el.style.opacity=null,this.isAnimation=!1,this.$el.focus()}}:{duration:300,onStart:()=>{this.$el.style.display=null,this.isAnimation=!0},onUpdate:e=>{this.$el.style.opacity=1-e},onComplete:e=>{this.$el.style.opacity=null,this.$el.style.display="none",this.$el.style.left=null,this.$el.style.top=null,this.isAnimation=!1}}))},onblur(e){this.blurStillShow?(this.$el.focus(),this.blurStillShow=!1):this.setVisible(!1)}},mounted(){this.initRect(),this.parentNode=this.$el.parentNode,this.parentNode.addEventListener("mousedown",this.parentNodeDown),this.parentNode.oncontextmenu=function(e){e.preventDefault()},this.$el.onblur=this.onblur,document.body.appendChild(this.$el)},destroyed(){this.parentNode.removeEventListener("mousedown",this.parentNodeDown),this.parentNode=null,this.parentNode.oncontextmenu=null,this.$el.onblur=null,document.body.removeChild(this.$el)}},h=r,d=n(1001),m=(0,d.Z)(h,s,l,!1,null,null,null),p=m.exports,c={data(){return{event:null,menu:[],menu1:[{name:"菜单按钮一",event:()=>{console.log("菜单按钮一")}},{name:"菜单按钮二",event:()=>{console.log("菜单按钮二")}}],menu2:[{name:"菜单按钮1",event:()=>{console.log("菜单按钮1")}},{name:"菜单按钮1",event:()=>{console.log("菜单按钮2")}}],menu3:[{name:"1",event:()=>{console.log("1")}},{name:"2",event:()=>{console.log("2")}}],hasChange:!1}},components:{"context-menu":p},methods:{setMenu1(){},setMenu2(){},setMenu3(){}}},f=c,v=(0,d.Z)(f,i,o,!1,null,null,null),y=v.exports},711:function(e,t){let n;n="undefined"===typeof self&&"undefined"!==typeof process&&process.hrtime?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!==typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},t["Z"]=n}}]);
//# sourceMappingURL=697.90b68b58.js.map