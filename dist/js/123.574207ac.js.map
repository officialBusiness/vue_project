{"version":3,"file":"js/123.574207ac.js","mappings":"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","sources":["webpack://vue_project/./src/tools/deal_files/glsl_to_js.vue","webpack://vue_project/./src/tools/deal_files/get_files_tree.js","webpack://vue_project/./src/tools/deal_files/file_node.vue","webpack://vue_project/src/tools/deal_files/file_node.vue","webpack://vue_project/./src/tools/deal_files/file_node.vue?d486","webpack://vue_project/./src/tools/deal_files/file_node.vue?b416","webpack://vue_project/src/tools/deal_files/glsl_to_js.vue","webpack://vue_project/./src/tools/deal_files/glsl_to_js.vue?8ceb","webpack://vue_project/./src/tools/deal_files/glsl_to_js.vue?dcab","webpack://vue_project/./node_modules/core-js/internals/delete-property-or-throw.js","webpack://vue_project/./node_modules/core-js/modules/es.array.unshift.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"tool-glsl_to_js\"},[_c('div',{staticClass:\"operation\"},[_c('div',{staticClass:\"button import\"},[_vm._v(\" 导入 glsl 文件 \"),_c('input',{attrs:{\"type\":\"file\",\"webkitdirectory\":\"true\"},on:{\"change\":_vm.readJlslFiles}})]),(_vm.loadOver)?_c('div',{staticClass:\"button export\",on:{\"mousedown\":_vm.exportJsFiles}},[_vm._v(\" 导出 js 文件 \")]):_vm._e()]),_c('div',{staticClass:\"title\"},[_vm._v(\"文件树\")]),_c('div',{staticClass:\"file_tree\"},[(_vm.filesTree)?_c('v-file_node',{attrs:{\"fileNode\":_vm.filesTree}}):_vm._e()],1),_c('div',{staticClass:\"empty\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\nexport default function getFilesTree(files, callback, loadOver = ()=>{}){\n\t// 将 files 信息转化为 tree\n\tlet\tfilesTree = null,\n\t\t\tfolderOrders = {},\n\t\t\thasLoad = 0;\n\n\tfor( let i = 0; i < files.length; i++ ){\n\t\tlet file = files[i],\n\t\t\t\tpath = file.webkitRelativePath.split(\"/\"),\n\t\t\t\tparentFolderNode,\n\n\t\t\t\treader = new FileReader();\n\n\t\tlet folderPath = \"\";// 记录路径\n\t\tpath.forEach((name, level, array)=>{\n\t\t\tfolderPath += `/${name}`\n\n\t\t\tif( level === array.length - 1 ){//\t是文件\n\t\t\t\tlet nameArr = name.split('.');\n\t\t\t\tif( nameArr[1] === 'glsl' ){\n\n\t\t\t\t\tlet fileNode = {\n\t\t\t\t\t\tfullName: name,\n\t\t\t\t\t\tname: nameArr[0],\n\t\t\t\t\t\tjsName: nameArr[0] + '.js',\n\t\t\t\t\t}\n\n\t\t\t\t\treader.readAsText(file);\n\t\t\t\t\tparentFolderNode.files.push(fileNode);\n\t\t\t\t\treader.onload = function(e){\n\t\t\t\t\t\t// fileNode.file = reader.result;\n\t\t\t\t\t\tcallback(fileNode, reader.result);\n\t\t\t\t\t\thasLoad ++;\n\n\t\t\t\t\t\tif( hasLoad === files.length ){\n\t\t\t\t\t\t\tloadOver();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\thasLoad ++;\n\t\t\t\t}\n\t\t\t}else{//\t是文件夹\n\t\t\t\tif( level === 0 ){//\t是上传的根文件夹\n\t\t\t\t\tif( !filesTree ){\n\t\t\t\t\t\tfilesTree = {\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tfiles: [],\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tparentFolderNode = filesTree;\n\t\t\t\t}else{//\t是文件夹\n\t\t\t\t\tlet folderOrder;\n\t\t\t\t\tif( folderOrders[folderPath] === void 0 ){// 还未存在\n\t\t\t\t\t\tlet folderNode = {\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\tfiles: [],\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// folderOrder = folderOrders[folderPath] = parentFolderNode.files.length;\n\t\t\t\t\t\tfolderOrder = folderOrders[folderPath] = 0;\n\t\t\t\t\t\tparentFolderNode.files.unshift(folderNode);\n\t\t\t\t\t\tparentFolderNode = folderNode;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tfolderOrder = folderOrders[folderPath];\n\t\t\t\t\t\tparentFolderNode = parentFolderNode.files[folderOrder];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\treturn filesTree;\n}\n\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"component-file-node\"},[_c('div',{staticClass:\"node-content\"},[_c('div',{class:{\n\t\t\t\texpand: true,\n\t\t\t\tleaf: _vm.isLeaf,\n\t\t\t\texpanded: _vm.isExpand && !_vm.isLeaf,\n\t\t\t},on:{\"mousedown\":_vm.handleExpand}},[_vm._v(\" › \")]),_c('div',{staticClass:\"label\"},[_vm._v(_vm._s(_vm.fileNode.name))]),_c('div',{staticClass:\"btns\"},[_c('div',{staticClass:\"btn\"},[(_vm.fileNode.files)?_c('div',{staticClass:\"iconfont icon-output\",attrs:{\"title\":\"导出js文件\"},on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.exportJSFiles(_vm.fileNode)}}}):_vm._e()])])]),(! _vm.isLeaf )?_c('div',{ref:\"children\",staticClass:\"children\"},_vm._l((_vm.fileNode.files),function(node){return _c('component-file-node',{key:node.name,attrs:{\"fileNode\":node}})}),1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"component-file-node\">\n\t\t<div class=\"node-content\">\n\t\t\t<div \n\t\t\t\t:class=\"{\n\t\t\t\t\texpand: true,\n\t\t\t\t\tleaf: isLeaf,\n\t\t\t\t\texpanded: isExpand && !isLeaf,\n\t\t\t\t}\"\n\t\t\t\tv-on:mousedown=\"handleExpand\"> › </div>\n\t\t\t<div class=\"label\">{{fileNode.name}}</div>\n\t\t\t<div class=\"btns\">\n\t\t\t\t<div class=\"btn\">\n\t\t\t\t\t<div title=\"导出js文件\" class=\"iconfont icon-output\"\n\t\t\t\t\t\tv-if=\"fileNode.files\"\n\t\t\t\t\t\tv-on:mousedown.stop=\"exportJSFiles(fileNode)\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"children\"\n\t\t\tref=\"children\"\n\t\t\tv-if=\"! isLeaf \">\n\t\t\t<component-file-node \n\t\t\t\tv-for=\"node in fileNode.files\"\n\t\t\t\t:key=\"node.name\"\n\t\t\t\t:fileNode=\"node\"/>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\texport default {\n\t\tname: 'component-file-node',\n\t\tprops: {\n\t\t\tfileNode: {\n\t\t\t\ttype: Object,\n\t\t\t}\n\t\t},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tisLeaf: !this.fileNode.files || this.fileNode.files.length === 0,\n\t\t\t\tisExpand: true,\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\thandleExpand(){\n\t\t\t\tif( this.isLeaf ){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.isExpand = !this.isExpand;\n\t\t\t\t// console.log('this.$refs.children.style:', this.$refs.children.style);\n\t\t\t\tlet height ;\n\t\t\t\tif( this.isExpand ){\n\t\t\t\t\tthis.$refs.children.style.height = null;\n\t\t\t\t\theight = this.$refs.children.clientHeight;\n\t\t\t\t\tthis.$refs.children.style.height = 0;\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\tthis.$refs.children.style.height = `${height}px`;\n\t\t\t\t\t}, 0);\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\tthis.$refs.children.style.height = null;//\t300 是 css transition 的数据\n\t\t\t\t\t}, 300);\n\t\t\t\t}else{\n\t\t\t\t\theight = this.$refs.children.clientHeight;\n\t\t\t\t\tthis.$refs.children.style.height = `${height}px`;\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\tthis.$refs.children.style.height = 0;\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\texportJSFiles(node){\n\t\t\t\tconsole.log('node:', node);\n\t\t\t\tif( node.files ){\n\t\t\t\t\tlet code = '',\n\t\t\t\t\t\t\texportFiles = [];\n\n\t\t\t\t\tfunction recursive(file, path = '.'){\n\t\t\t\t\t\tif( file.file ){\n\t\t\t\t\t\t\tcode += `import czm_${file.name} from '${path}.js';\\n`;\n\t\t\t\t\t\t\texportFiles.push(`czm_${file.name}`)\n\t\t\t\t\t\t}else if( file.files ){\n\t\t\t\t\t\t\tfile.files.forEach((item)=>{\n\t\t\t\t\t\t\t\trecursive(item, `${path}/${item.name}` );\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\trecursive(node);\n\n\t\t\t\t\tcode += `\\nexport default {\\n\\t${exportFiles.join(',\\n\\t')}\\n}`\n\n\t\t\t\t\tlet a = document.createElement('a');\t\t\t\t\t// 创建a标签\n\t        let e = document.createEvent('MouseEvents');\t// 创建鼠标事件对象\n\t        e.initEvent('click', false, false);\t\t\t\t\t\t// 初始化事件对象\n\t\t\t\t\t// 字符内容转变成blob地址\n\t\t\t\t\tlet blob = new Blob([code]);\n\t\t\t\t\ta.href = URL.createObjectURL(blob);\n\t        a.download = 'CzmBuiltins.js';\t\t\t\t\t\t\t\t// 设置下载文件名\n\t\t\t\t  a.dispatchEvent(e);\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tmounted(){\n\t\t\t// console.log('this.fileNode:', this.fileNode);\n\t\t\t// console.log('this.fileNode.files:', this.fileNode.files);\n\t\t}\n\t}\n</script>\n\n<style lang=\"less\">\n\t.component-file-node{\n\t\twidth: 100%;\n\t\t>.node-content{\n\t\t\tposition: relative;\n\t\t\tdisplay: flex;\n\t\t\twidth: 100%;\n\t\t\theight: 0.3rem;\n\t\t\tline-height: 0.3rem;\n\t\t\tfont-size: 0.14rem;\n\t    color: #000000;\n\t    background-color: #ffffff;\n\t\t\ttransition: background-color .3s, height .3s;\n\t    cursor: pointer;\n\t    overflow: hidden;\n\t    >.expand{\n\t    \twidth: 0.3rem;\n\t    \tmin-width: 0.3rem;\n\t    \theight: 100%;\n\t\t    text-align: center;\n\t\t    overflow: hidden;\n        transition: transform .3s ease-in-out, opacity .3s ease-in-out;\n\t    }\n\t    >.expand.expanded{\n\t\t    transform: rotate(90deg);\n\t    }\n\t    >.expand.leaf{\n\t    \twidth: 0.14rem;\n\t    \tmin-width: 0.14rem;\n\t    \topacity: 0;\n\t    \tpointer-events: none;\n\t    }\n\t    >.label{\n\t    \tflex: 1;\n\t    \theight: 100%;\n\t\t\t\twhite-space: nowrap;\n\t    }\n\t    >.btns{\n\t    \tposition: absolute;\n\t    \tright: 0;\n\t    \ttop: 0;\n\t    \tpadding: 0 0.1rem;\n\t    \theight: 0.3rem;\n\t\t    background-color: #ffffff;\n\t\t    opacity: 0;\n\t    \ttransition: opacity .3s, background-color .3s;\n\t    \t>.btn{\n\t    \t\theight: 100%;\n    \t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\n\t    \t\t>.iconfont{\n\t    \t\t\twidth: 0.2rem;\n\t\t\t\t    height: 0.2rem;\n\t\t\t\t    line-height: 0.2rem;\n\t\t\t\t    font-size: 0.12rem;\n\t\t\t\t    text-align: center;\n\t\t\t\t    cursor: pointer;\n\t\t\t\t    border-radius: 0.04rem;\n\t\t\t\t    color: #000000;\n\t\t\t    \ttransition: background-color  .3s;\n\t\t\t\t\t\t&:hover{\n\t\t\t\t\t\t\tbackground-color: #cacaca;\n\t\t\t\t\t\t}\n\t    \t\t}\n\n\t    \t}\n\t    }\n\t    &:hover{\n\t    \tbackground-color: #eeeeee;\n\t\t    >.btns{\n\t\t    \topacity: 1;\n\t\t    \tbackground-color: #eeeeee;\n\t\t    }\n\t    }\n\n\t\t}\n\t\t>.children{\n\t\t\tmargin: 0 0 0 0.16rem;\n\t\t\toverflow: hidden;\n\t\t\ttransition: height .3s;\n\t    border-left: 0.01rem solid #666666;\n\t\t}\n\t}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./file_node.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./file_node.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./file_node.vue?vue&type=template&id=3891955e&\"\nimport script from \"./file_node.vue?vue&type=script&lang=js&\"\nexport * from \"./file_node.vue?vue&type=script&lang=js&\"\nimport style0 from \"./file_node.vue?vue&type=style&index=0&id=3891955e&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"tool-glsl_to_js\">\n\t\t<div class=\"operation\">\n\t\t\t<div class=\"button import\">\n\t\t\t\t导入 glsl 文件\n\t\t\t\t<input type=\"file\" webkitdirectory='true'\n\t\t\t\t\tv-on:change=\"readJlslFiles\">\n\t\t\t</div>\n\t\t\t<div class=\"button export\"\n\t\t\t\tv-if=\"loadOver\"\n\t\t\t\tv-on:mousedown=\"exportJsFiles\">\n\t\t\t\t导出 js 文件\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"title\">文件树</div>\n\t\t<div class=\"file_tree\">\n\t\t\t<v-file_node\n\t\t\t\tv-if=\"filesTree\"\n\t\t\t\t:fileNode=\"filesTree\"/>\n\t\t</div>\n\t\t<div class=\"empty\"></div>\n\t</div>\n</template>\n\n<script>\n\timport getFilesTree from './get_files_tree.js';\n\timport fileNode from './file_node.vue';\n\n\texport default {\n\t\tcomponents: {\n\t\t\t\"v-file_node\": fileNode\n\t\t},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tfilesTree: null,\n\t\t\t\tloadOver: false\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\treadJlslFiles(e){\n\t\t\t\tthis.filesTree = getFilesTree(e.target.files,\n\t\t\t\t\t(fileNode, file)=>{\n\t\t\t\t\t\tfile.replaceAll('`', \"'\");\n\t\t\t\t\t\tfileNode.file = 'export default `' + file + '`';\n\t\t\t\t\t},\n\t\t\t\t\t()=>{\n\t\t\t\t\t\tthis.loadOver = true;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\t\t\texportJsFiles(){\n\t\t\t\tvar zip = new JSZip();\n\t\t\t\tthis.zipFile(zip, this.filesTree);\n\n\t\t\t\tzip.generateAsync({type:\"blob\"})\n\t\t\t\t\t.then(function(content) {\n\n\t\t\t\t\t\tlet a = document.createElement('a');\t\t\t\t\t// 创建a标签\n\t\t        let e = document.createEvent('MouseEvents');\t// 创建鼠标事件对象\n\t\t        e.initEvent('click', false, false);\t\t\t\t\t\t// 初始化事件对象\n\t\t\t\t\t\t// 字符内容转变成blob地址\n\t\t\t\t\t\tlet blob = new Blob([content]);\n\t\t\t\t\t\ta.href = URL.createObjectURL(blob);\n\t\t        a.download = 'js.zip';\t\t\t\t\t\t\t\t// 设置下载文件名\n\t\t\t\t\t  a.dispatchEvent(e);\n\t\t\t\t\t  \n\t\t\t\t\t});\n\t\t\t},\n\t\t\tzipFile(folder, fileTree){\n\t\t\t\tfileTree.files.forEach((node)=>{\n\t\t\t\t\tif( node.file ){\n\t\t\t\t\t\tfolder.file(node.jsName, node.file);\n\t\t\t\t\t}else if( node.files ){\n\t\t\t\t\t\t// folder = folder.folder(node.name);\n\t\t\t\t\t\tthis.zipFile( folder.folder(node.name), node );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"less\">\n\t.tool-glsl_to_js{\n\t\tpadding: 0 10%;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\t>div{\n\t\t\twidth: 5rem;\n\t\t\tmax-width: 100%;\n\t\t}\n\t\t>.operation{\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\twidth: 100%;\n\t\t\tborder-left: 0.02rem solid #000000;\n\t\t\tborder-right: 0.02rem solid #000000;\n\t\t\tborder-bottom: 0.02rem solid #000000;\n\t\t\t>.button{\n\t\t\t\tpadding: 0.1rem;\n\t\t\t\tmargin-right: 0.1rem;\n\t\t\t\tfont-size: 0.18rem;\n\t\t\t\tcursor: pointer;\n\t\t\t\tletter-spacing: 0.04rem;\n\t\t\t}\n\t\t\t>.import{\n\t\t\t\tposition: relative;\n\t\t\t\toverflow: hidden;\n\t\t\t\t>input{\n\t\t\t\t\tfont-size: 0;\n\t\t\t\t\toutline: 0;\n\t\t\t\t\tpadding: 0;\n\t\t\t\t\tborder: 0;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\topacity: 0;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t>.title{\n\t\t\tpadding: 0.1rem;\n\t\t\tfont-size: 0.18rem;\n\t\t\twidth: 100%;\n\t\t\tborder-left: 0.02rem solid #000000;\n\t\t\tborder-right: 0.02rem solid #000000;\n\t\t\tborder-bottom: 0.02rem solid #000000;\n\t\t}\n\t\t>.file_tree{\n\t\t\twidth: 100%;\n\t\t\theight: 0;\n\t\t\tflex: 1;\n\t\t\toverflow: auto;\n\t\t\tborder-left: 0.02rem solid #000000;\n\t\t\tborder-right: 0.02rem solid #000000;\n\t\t\tborder-bottom: 0.02rem solid #000000;\n\t\t}\n\t\t>.empty{\n\t\t\twidth: 100%;\n\t\t\theight: 0.06rem;\n\t\t\tborder-left: 0.02rem solid #000000;\n\t\t\tborder-right: 0.02rem solid #000000;\n\t\t}\n\t}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./glsl_to_js.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./glsl_to_js.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./glsl_to_js.vue?vue&type=template&id=1f3156ba&\"\nimport script from \"./glsl_to_js.vue?vue&type=script&lang=js&\"\nexport * from \"./glsl_to_js.vue?vue&type=script&lang=js&\"\nimport style0 from \"./glsl_to_js.vue?vue&type=style&index=0&id=1f3156ba&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (O, P) {\n  if (!delete O[P]) throw $TypeError('Cannot delete property ' + tryToString(P) + ' of ' + tryToString(O));\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar deletePropertyOrThrow = require('../internals/delete-property-or-throw');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\n\n// IE8-\nvar INCORRECT_RESULT = [].unshift(0) !== 1;\n\n// V8 ~ Chrome < 71 and Safari <= 15.4, FF < 23 throws InternalError\nvar SILENT_ON_NON_WRITABLE_LENGTH = !function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).unshift();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\n// `Array.prototype.unshift` method\n// https://tc39.es/ecma262/#sec-array.prototype.unshift\n$({ target: 'Array', proto: true, arity: 1, forced: INCORRECT_RESULT || SILENT_ON_NON_WRITABLE_LENGTH }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  unshift: function unshift(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    if (argCount) {\n      doesNotExceedSafeInteger(len + argCount);\n      var k = len;\n      while (k--) {\n        var to = k + argCount;\n        if (k in O) O[to] = O[k];\n        else deletePropertyOrThrow(O, to);\n      }\n      for (var j = 0; j < argCount; j++) {\n        O[j] = arguments[j];\n      }\n    } return setArrayLength(O, len + argCount);\n  }\n});\n"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","on","readJlslFiles","loadOver","exportJsFiles","_e","filesTree","staticRenderFns","getFilesTree","files","callback","folderOrders","hasLoad","i","length","parentFolderNode","file","path","webkitRelativePath","split","reader","FileReader","folderPath","forEach","name","level","array","nameArr","fileNode","fullName","jsName","readAsText","push","onload","e","result","folderOrder","folderNode","unshift","class","expand","leaf","isLeaf","expanded","isExpand","handleExpand","_s","$event","stopPropagation","exportJSFiles","ref","_l","node","key","props","type","data","methods","height","setTimeout","console","exportFiles","code","recursive","a","mounted","component","components","zip","then","zipFile","fileTree","folder","tryToString","$TypeError","TypeError","module","exports","O","P","$","toObject","lengthOfArrayLike","setArrayLength","deletePropertyOrThrow","doesNotExceedSafeInteger","INCORRECT_RESULT","SILENT_ON_NON_WRITABLE_LENGTH","Object","defineProperty","writable","error","target","proto","arity","forced","item","len","argCount","arguments","k","to","j"],"sourceRoot":""}