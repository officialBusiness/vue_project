{"version":3,"file":"js/66.dc25f0f5.js","mappings":"iKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,GAAG,CAAC,UAAYJ,EAAIK,iBAAiB,CAACL,EAAIM,GAAG,eAC1H,EACIC,EAAkB,G,mBCFlBR,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,aAAa,CAACM,MAAM,CAAC,KAAO,gBAAgBJ,GAAG,CAAC,cAAcJ,EAAIS,mBAAmB,CAACP,EAAG,MAAM,CAACQ,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOb,EAAIc,QAASC,WAAW,YAAYC,YAAY,UAAUC,MAAOjB,EAAIkB,cAAed,GAAG,CAAC,WAAaJ,EAAImB,WAAW,WAAanB,EAAIoB,aAAa,CAACpB,EAAIM,GAAG,gBACjX,EACIC,EAAkB,GCctB,GACAc,OACA,OACAP,SAAAA,EACAQ,SAAAA,IACAC,MAAAA,KACAC,QAAAA,KACAC,eAAAA,GAEA,EACAC,SAAAA,CACAR,gBACA,OACA,+BAEA,GAEAS,QAAAA,CACAlB,mBACA,kBACA,yCACA,EACAW,aACA,kBACA,4BACA,eACA,eAEA,EACAD,aACA,aACAS,aAAAA,KAAAA,OACA,gBAEA,EACAC,QACA,kCACA,eAEA,eACA,GAEAC,UACAC,SAAAA,KAAAA,YAAAA,KAAAA,KACA,gBAEA,iBACA,GC/DgQ,I,UCQ5PC,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAeA,EAAiB,QChBhC,IAAIC,EAAqBC,EAAAA,GAAAA,OAAYC,GACnCC,EAAY,GACZC,EAAW,KACXC,EAAO,EAET,OAECC,KAAKC,GACJ,IAAIC,EAAcD,EAAQhB,QACxBkB,EAAK,WAAaJ,IACpBE,EAAQhB,QAAU,KACjBvB,KAAK4B,MAAOa,EAAID,EAAa,EAG9BJ,EAAW,IAAIJ,EAAmB,CACjCZ,KAAMmB,IAEPH,EAASK,GAAKA,EACdL,EAASM,SAET,IAAIlB,EAAiBe,EAAQI,QAAU,GACvCR,EAAUS,SAASC,IAClBrB,GAAkBqB,EAAKC,IAAIC,aAAe,EAAE,IAE7CX,EAASZ,eAAiBA,EAE1BW,EAAUa,KAAMZ,EACjB,EACAR,MAAOa,EAAID,GACV,IAEES,EAFEC,EAAMf,EAAUgB,OAClBC,GAAS,EAEX,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAKG,IACxB,GAAIZ,IAAON,EAAUkB,GAAGZ,GAAI,CAC3BQ,EAAgBd,EAAUkB,GAAGP,IAAIC,aACjCK,EAAQC,EACmB,oBAAhBb,GACVA,EAAaL,EAAUkB,IAExBlB,EAAUmB,OAAQD,EAAG,GACrB,KACD,CAED,KAAIH,GAAO,IAAgB,IAAXE,GAAgBA,EAAQjB,EAAUgB,OAAS,GAG3D,IAAK,IAAIE,EAAID,EAAOC,EAAIH,EAAM,EAAIG,IAAK,CACtC,IAAIE,EAAMpB,EAAUkB,GAAGP,IACvBS,EAAIvC,MAAM,OAASwC,SAAUD,EAAIvC,MAAO,OAAS,IAAOiC,EAAgB,GAAK,IAC9E,CACD,GC9CD,GACAvB,QAAAA,CACAtB,iBACA8B,EAAAA,KAAAA,CACAb,SAAAA,KAKA,IChBgQ,ICO5P,GAAY,OACd,EACAvB,EACAQ,GACA,EACA,KACA,KACA,MAIF,EAAe,EAAiB,O","sources":["webpack://vue_project/./src/components/message/example.vue","webpack://vue_project/./src/components/message/message.vue","webpack://vue_project/src/components/message/message.vue","webpack://vue_project/./src/components/message/message.vue?85a6","webpack://vue_project/./src/components/message/message.vue?7e6c","webpack://vue_project/./src/components/message/message.js","webpack://vue_project/src/components/message/example.vue","webpack://vue_project/./src/components/message/example.vue?e98b","webpack://vue_project/./src/components/message/example.vue?5863"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{on:{\"mousedown\":_vm.handleTestDown}},[_vm._v(\"测试 message\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('transition',{attrs:{\"name\":\"message-fade\"},on:{\"after-leave\":_vm.handleAfterLeave}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"message\",style:(_vm.positionStyle),on:{\"mouseenter\":_vm.clearTimer,\"mouseleave\":_vm.startTimer}},[_vm._v(\" message \")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<transition \n\t\tname='message-fade'\n\t\t@after-leave='handleAfterLeave'>\n\t\t<div\n\t\t\tclass='message' \n\t\t\t:style='positionStyle'\n\t\t\tv-show='visible'\n\t\t\tv-on:mouseenter='clearTimer'\n\t\t\tv-on:mouseleave='startTimer'>\n\t\t\tmessage\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\n\texport default {\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tvisible: false,\n\t\t\t\tduration: 3000,\n\t\t\t\ttimer: null,\n\t\t\t\tonClose: null,\n\t\t\t\tverticalOffset: 20\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tpositionStyle(){\n\t\t\t\treturn {\n\t\t\t\t\t'top': `${ this.verticalOffset }px`\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\thandleAfterLeave(){\n\t\t\t\tthis.$destroy(true);\n\t\t\t\tthis.$el.parentNode.removeChild( this.$el );\n\t\t\t},\n\t\t\tstartTimer(){\n\t\t\t\tif ( this.duration > 0 ){\n\t\t\t\t\tthis.timer = setTimeout(()=>{\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t}, this.duration);\n\t\t\t\t}\n\t\t\t},\n\t\t\tclearTimer(){\n\t\t\t\tif( this.timer ){\n\t\t\t\t\tclearTimeout(this.timer);\n\t\t\t\t\tthis.timer = null;\n\t\t\t\t}\n\t\t\t},\n\t\t\tclose(){\n\t\t\t\tif ( typeof this.onClose === 'function' ){\n\t\t\t\t\tthis.onClose();\n\t\t\t\t}\n\t\t\t\tthis.visible = false;\n\t\t\t}\n\t\t},\n\t\tmounted(){\n\t\t\tdocument.body.appendChild( this.$el );\n\t\t\tthis.visible = true;\n\n\t\t\tthis.startTimer();\n\t\t}\n\t}\n</script>\n\n<style lang=\"less\">\n\t.message{\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 50%;\n\t\ttransform: translateX(-50%);\n\t\ttransition: opacity 0.3s, transform 0.3s, top 0.4s;\n\t}\n\t.message-fade-enter,\n\t.message-fade-leave-active{\n\t\topacity: 0;\n\t\ttransform: translate(-50%, -100%);\n\t}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./message.vue?vue&type=template&id=17be9b72&\"\nimport script from \"./message.vue?vue&type=script&lang=js&\"\nexport * from \"./message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./message.vue?vue&type=style&index=0&id=17be9b72&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Message from './message.vue'\n\nlet MessageConstructor = Vue.extend( Message ),\n\t\tinstances = [],\n\t\tinstance = null,\n\t\tseed = 1\n\nexport default {\n\n\tshow(options){\n\t\tlet userOnClose = options.onClose,\n\t\t\t\tid = 'message_' + seed++;\n\t\toptions.onClose = ()=>{\n\t\t\tthis.close( id, userOnClose );\n\t\t}\n\n\t\tinstance = new MessageConstructor({\n\t\t\tdata: options\n\t\t});\n\t\tinstance.id = id;\n\t\tinstance.$mount();\n\n\t\tlet verticalOffset = options.offset || 20;\n\t\tinstances.forEach((item)=>{\n\t\t\tverticalOffset += item.$el.offsetHeight + 16;\n\t\t});\n\t\tinstance.verticalOffset = verticalOffset;\n\n\t\tinstances.push( instance );\n\t},\n\tclose( id, userOnClose ){\n\t\tlet len = instances.length ,\n\t\t\t\tindex = -1 ,\n\t\t\t\tremovedHeight;\n\t\tfor( let i = 0; i < len; i++ ){\n\t\t\tif( id === instances[i].id ){\n\t\t\t\tremovedHeight = instances[i].$el.offsetHeight;\n\t\t\t\tindex = i;\n\t\t\t\tif( typeof userOnClose === 'function' ){\n\t\t\t\t\tuserOnClose( instances[i] );\n\t\t\t\t}\n\t\t\t\tinstances.splice( i, 1 );\n\t\t\t\tbreak ;\n\t\t\t}\n\t\t}\n\t\tif( len <= 1 || index === -1 || index > instances.length - 1 ){\n\t\t\treturn;\n\t\t}\n\t\tfor( let i = index; i < len - 1 ; i++ ){\n\t\t\tlet dom = instances[i].$el;\n\t\t\tdom.style['top'] = parseInt( dom.style[ 'top' ], 10 ) - removedHeight - 16 + 'px';\n\t\t}\n\t}\n}","<template>\n\t<div v-on:mousedown='handleTestDown'>测试 message</div>\n</template>\n\n<script>\n\timport Message from './message.js'\n\n\texport default{\n\t\tmethods: {\n\t\t\thandleTestDown(){\n\t\t\t\tMessage.show({\n\t\t\t\t\tduration: 3000,\n\t\t\t\t\t// onClose(message){\n\t\t\t\t\t// \tconsole.log('onClose', message)\n\t\t\t\t\t// }\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./example.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./example.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./example.vue?vue&type=template&id=5900b87d&\"\nimport script from \"./example.vue?vue&type=script&lang=js&\"\nexport * from \"./example.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","on","handleTestDown","_v","staticRenderFns","attrs","handleAfterLeave","directives","name","rawName","value","visible","expression","staticClass","style","positionStyle","clearTimer","startTimer","data","duration","timer","onClose","verticalOffset","computed","methods","clearTimeout","close","mounted","document","component","MessageConstructor","Vue","Message","instances","instance","seed","show","options","userOnClose","id","$mount","offset","forEach","item","$el","offsetHeight","push","removedHeight","len","length","index","i","splice","dom","parseInt"],"sourceRoot":""}