"use strict";(self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[]).push([[66],{3066:function(e,t,s){s.r(t),s.d(t,{default:function(){return y}});var i=function(){var e=this,t=e._self._c;return t("div",{on:{mousedown:e.handleTestDown}},[e._v("测试 message")])},l=[],o=(s(7658),s(144)),n=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"message-fade"},on:{"after-leave":e.handleAfterLeave}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"message",style:e.positionStyle,on:{mouseenter:e.clearTimer,mouseleave:e.startTimer}},[e._v(" message ")])])},r=[],a={data(){return{visible:!1,duration:3e3,timer:null,onClose:null,verticalOffset:20}},computed:{positionStyle(){return{top:`${this.verticalOffset}px`}}},methods:{handleAfterLeave(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},startTimer(){this.duration>0&&(this.timer=setTimeout((()=>{this.close()}),this.duration))},clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)},close(){"function"===typeof this.onClose&&this.onClose(),this.visible=!1}},mounted(){document.body.appendChild(this.$el),this.visible=!0,this.startTimer()}},u=a,h=s(1001),f=(0,h.Z)(u,n,r,!1,null,null,null),d=f.exports;let m=o.ZP.extend(d),c=[],v=null,p=1;var w={show(e){let t=e.onClose,s="message_"+p++;e.onClose=()=>{this.close(s,t)},v=new m({data:e}),v.id=s,v.$mount();let i=e.offset||20;c.forEach((e=>{i+=e.$el.offsetHeight+16})),v.verticalOffset=i,c.push(v)},close(e,t){let s,i=c.length,l=-1;for(let o=0;o<i;o++)if(e===c[o].id){s=c[o].$el.offsetHeight,l=o,"function"===typeof t&&t(c[o]),c.splice(o,1);break}if(!(i<=1||-1===l||l>c.length-1))for(let o=l;o<i-1;o++){let e=c[o].$el;e.style["top"]=parseInt(e.style["top"],10)-s-16+"px"}}},C={methods:{handleTestDown(){w.show({duration:3e3})}}},b=C,g=(0,h.Z)(b,i,l,!1,null,null,null),y=g.exports}}]);
//# sourceMappingURL=66.dc25f0f5.js.map